{"ast":null,"code":"var _jsxFileName = \"/home/ergys/Desktop/Projects/Java/lufthansa-test-project/FrontEndClient/src/supervisor/UserList.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from 'react';\nimport { ContentPageContext, ActionButton } from '../styled/Components';\nimport { AuthContext } from '../App';\nimport apiLink from '../API';\nimport { useRouteMatch, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n/** \n* Displays the user list page\n* @function UserList\n* */\nconst UserList = props => {\n  _s();\n\n  const {\n    userId\n  } = useParams();\n  const authContext = useContext(AuthContext);\n  const {\n    url\n  } = useRouteMatch();\n  /* Set the location list in the header of the page */\n\n  const contentPageContext = useContext(ContentPageContext);\n  useEffect(() => {\n    contentPageContext.setLocationList([{\n      title: \"User list\",\n      url: url\n    }]);\n  }, []);\n  /* Set up the state that holds the users, and also a value for updating the\n  * list with a callback*/\n\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const bearer = \"Bearer \" + authContext.jwtToken;\n    fetch(`${apiLink}/supervisor/${userId}/users`, {\n      headers: {\n        'Authorization': bearer\n      }\n    }).then(res => res.json()).then(res => {\n      if (res.status === \"OK\") {\n        const usrs = res.result;\n        setUsers(usrs.filter(usr => usr.id != authContext.userId));\n      } else {\n        alert(res.message);\n      }\n    }).catch(err => console.log(err));\n  }, [userId]);\n  /* Determines whether the add user form is displayed*/\n\n  const [addUser, setAddUser] = useState(false);\n  /* Create a list of supervisors from the current users */\n\n  const supervisors = users.filter(user => user.type === \"supervisor\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(ActionButton, {\n      onClick: () => setAddUser(true),\n      background: \"green\",\n      className: \"p-1 mx-10 my-5 w-14\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"material-icons\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-10 border-l-2 border-r-2 border-b-2 border-gray-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 flex flex-row justify-center w-full text-gray-300 p-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold flex-1 text-center\",\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold flex-1 text-center\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold flex-1 text-center\",\n          children: \"Firstname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold flex-1 text-center\",\n          children: \"Lastname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold flex-1 text-center\",\n          children: \"Supervisor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), users.map(user => /*#__PURE__*/_jsxDEV(UserItem, {\n        user: user,\n        supervisors: supervisors\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 24\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }, this);\n};\n/** \n* Displays a user list item\n* @function UserItem\n* @param {Object} props - The props of the component\n* @param {User} props.user - The user this item represents\n* @param {User[]} props.supervisors - The list of available supervisors\n* @returns A single user item for the user list\n* */\n\n\n_s(UserList, \"ZgqlxGAxpR0uAcGydP7Q7vMbOlM=\", false, function () {\n  return [useParams, useRouteMatch];\n});\n\n_c = UserList;\n\nconst UserItem = props => {\n  _s2();\n\n  var _user$supervisor;\n\n  const {\n    user,\n    supervisors\n  } = props;\n  /* The state which determines whether the popup window to modify a user is\n  * shown */\n\n  const [popupShown, setPopupShown] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: () => setPopupShown(true),\n    className: \"flex flex-row justify-center w-full hover:bg-gray-400 p-5 border-b border-gray-400\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: user.type\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: user.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: user.firstname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: user.lastname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: (_user$supervisor = user.supervisor) === null || _user$supervisor === void 0 ? void 0 : _user$supervisor.firstname\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(UserItem, \"3s3o9bVkFE3J9Ei9WDJsh8rCwko=\");\n\n_c2 = UserItem;\nexport default UserList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UserList\");\n$RefreshReg$(_c2, \"UserItem\");","map":{"version":3,"sources":["/home/ergys/Desktop/Projects/Java/lufthansa-test-project/FrontEndClient/src/supervisor/UserList.tsx"],"names":["useContext","useEffect","useState","ContentPageContext","ActionButton","AuthContext","apiLink","useRouteMatch","useParams","UserList","props","userId","authContext","url","contentPageContext","setLocationList","title","users","setUsers","bearer","jwtToken","fetch","headers","then","res","json","status","usrs","result","filter","usr","id","alert","message","catch","err","console","log","addUser","setAddUser","supervisors","user","type","map","UserItem","popupShown","setPopupShown","email","firstname","lastname","supervisor"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { ContentPage, ContentPageContext, Popup, Label, Input, Select, ActionButton, Form, DangerButton } from '../styled/Components';\nimport { AuthContext } from '../App';\nimport { formatDate } from '../util/Utils';\nimport apiLink from '../API';\nimport { useRouteMatch, useParams } from 'react-router-dom';\nimport { User } from '../types/Common';\n\n/** \n* Displays the user list page\n* @function UserList\n* */\nconst UserList = (props: any) => {\n\tconst { userId } = useParams() as any;\n\tconst authContext = useContext(AuthContext);\n\tconst { url } = useRouteMatch();\n\n\t/* Set the location list in the header of the page */\n\tconst contentPageContext = useContext(ContentPageContext);\n\tuseEffect(() => {\n\t\tcontentPageContext.setLocationList([{ title: \"User list\", url: url }]);\n\t}, []);\n\n\t/* Set up the state that holds the users, and also a value for updating the\n\t* list with a callback*/\n\tconst [users, setUsers] = useState<User[]>([]);\n\tuseEffect(() => {\n\t\tconst bearer = \"Bearer \" + authContext.jwtToken;\n\t\tfetch(`${apiLink}/supervisor/${userId}/users`, {\n\t\t\theaders: {\n\t\t\t\t'Authorization': bearer\n\t\t\t}\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\tif (res.status === \"OK\") {\n\t\t\t\t\tconst usrs = res.result as User[];\n\t\t\t\t\tsetUsers(usrs.filter(usr => usr.id != authContext.userId));\n\t\t\t\t} else {\n\t\t\t\t\talert(res.message);\n\t\t\t\t}\n\t\t\t}).catch(err => console.log(err));\n\t}, [userId]);\n\n\t/* Determines whether the add user form is displayed*/\n\tconst [addUser, setAddUser] = useState(false);\n\n\t/* Create a list of supervisors from the current users */\n\tconst supervisors = users.filter(user => user.type === \"supervisor\");\n\n\treturn (\n\t\t<div className=\"flex flex-col\">\n\t\t\t<ActionButton onClick={() => setAddUser(true)} background=\"green\" className=\"p-1 mx-10 my-5 w-14\">\n\t\t\t\t<i className=\"material-icons\">add</i>\n\t\t\t</ActionButton>\n\n\n\t\t\t<div className=\"mx-10 border-l-2 border-r-2 border-b-2 border-gray-800\">\n\t\t\t\t<div className=\"bg-gray-800 flex flex-row justify-center w-full text-gray-300 p-2\">\n\t\t\t\t\t<p className=\"font-bold flex-1 text-center\">Type</p>\n\t\t\t\t\t<p className=\"font-bold flex-1 text-center\">Email</p>\n\t\t\t\t\t<p className=\"font-bold flex-1 text-center\">Firstname</p>\n\t\t\t\t\t<p className=\"font-bold flex-1 text-center\">Lastname</p>\n\t\t\t\t\t<p className=\"font-bold flex-1 text-center\">Supervisor</p>\n\t\t\t\t</div>\n\t\t\t\t{users.map(user => <UserItem key={user.id}\n\t\t\t\t\tuser={user}\n\t\t\t\t\tsupervisors={supervisors} />)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n/** \n* Displays a user list item\n* @function UserItem\n* @param {Object} props - The props of the component\n* @param {User} props.user - The user this item represents\n* @param {User[]} props.supervisors - The list of available supervisors\n* @returns A single user item for the user list\n* */\nconst UserItem = (props: { user: User, supervisors: User[] }) => {\n\tconst { user, supervisors } = props;\n\n\t/* The state which determines whether the popup window to modify a user is\n\t* shown */\n\tconst [popupShown, setPopupShown] = useState(false);\n\treturn (\n\t\t<div onClick={() => setPopupShown(true)}\n\t\t\tclassName=\"flex flex-row justify-center w-full hover:bg-gray-400 p-5 border-b border-gray-400\">\n\t\t\t<p className=\"flex-1 text-center\">{user.type}</p>\n\t\t\t<p className=\"flex-1 text-center\">{user.email}</p>\n\t\t\t<p className=\"flex-1 text-center\">{user.firstname}</p>\n\t\t\t<p className=\"flex-1 text-center\">{user.lastname}</p>\n\t\t\t<p className=\"flex-1 text-center\">{user.supervisor?.firstname}</p>\n\t\t</div>\n\t);\n}\n\nexport default UserList;\n"]},"metadata":{},"sourceType":"module"}