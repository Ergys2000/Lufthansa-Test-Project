{"ast":null,"code":"var _jsxFileName = \"/home/ergys/Desktop/Projects/Java/lufthansa-test-project/FrontEndClient/src/user/RequestList.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext } from 'react';\nimport { AuthContext } from '../App';\nimport apiLink from '../API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n/** \n* Displays the user list page\n* @function RequestList\n* */\nconst RequestList = props => {\n  const {\n    requests\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mx-10 border-l-2 border-r-2 border-b-2 border-gray-800 shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 flex flex-row justify-center w-full text-gray-300 p-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold flex-1 text-center\",\n        children: \"User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold flex-1 text-center\",\n        children: \"Created on\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold flex-1 text-center\",\n        children: \"Start date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold flex-1 text-center\",\n        children: \"End date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold flex-1 text-center\",\n        children: \"Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold flex-1 text-center\",\n        children: \"Actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 4\n    }, this), requests.map(request => /*#__PURE__*/_jsxDEV(RequestItem, {\n      request: request,\n      updateRequestList: props.updateRequestList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 3\n  }, this);\n};\n/** \n* Displays a request list item\n* @function RequestItem\n* @param {Object} props - The props of the component\n* @param {Request} props.request - The request this item represents\n* @param {()=>void} props.update - Callback for updating the main list\n* @returns A single request item for the request list\n* */\n\n\n_c = RequestList;\n\nconst RequestItem = props => {\n  _s();\n\n  const authContext = useContext(AuthContext);\n  const {\n    request,\n    updateRequestList\n  } = props;\n  let circleColor = \"bg-gray-400\";\n\n  if (request.approved === true) {\n    circleColor = \"bg-green-700\";\n  } else if (request.approved === false) {\n    circleColor = \"bg-red-700\";\n  }\n\n  const deleteRequest = () => {\n    fetch(`${apiLink}/user/${authContext.userId}/requests/${request.id}`, {\n      method: 'delete',\n      headers: {\n        'Authorization': `Bearer ${authContext.jwtToken}`\n      }\n    }).then(res => res.json()).then(res => {\n      if (res.status === \"OK\") {\n        alert(res.message);\n        updateRequestList();\n      } else {\n        alert(\"Sorry something went wrong!\");\n      }\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-row justify-center bg-gray-100 w-full p-5 border-b border-gray-400 text-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: `${request.user.firstname} ${request.user.lastname}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: new Date(request.createdOn).toDateString()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: new Date(request.startDate).toDateString()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex-1 text-center\",\n      children: new Date(request.endDate).toDateString()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex justify-center items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `w-6 h-6 rounded-full ${circleColor} mr-3`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex justify-center items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        onClick: deleteRequest,\n        className: \"material-icons hover:bg-gray-200  hover:text-red-700 rounded-full p-2 cursor-pointer\",\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 3\n  }, this);\n};\n\n_s(RequestItem, \"g0q6N3HTsGa67OokMUhTOzE2a0M=\");\n\n_c2 = RequestItem;\nexport default RequestList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RequestList\");\n$RefreshReg$(_c2, \"RequestItem\");","map":{"version":3,"sources":["/home/ergys/Desktop/Projects/Java/lufthansa-test-project/FrontEndClient/src/user/RequestList.tsx"],"names":["useContext","AuthContext","apiLink","RequestList","props","requests","map","request","updateRequestList","RequestItem","authContext","circleColor","approved","deleteRequest","fetch","userId","id","method","headers","jwtToken","then","res","json","status","alert","message","catch","err","console","log","user","firstname","lastname","Date","createdOn","toDateString","startDate","endDate"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { ContentPage, ContentPageContext, Popup, Label, Input, Select, ActionButton, Form, DangerButton } from '../styled/Components';\nimport { AuthContext } from '../App';\nimport { formatDate } from '../util/Utils';\nimport apiLink from '../API';\nimport { useRouteMatch, useParams } from 'react-router-dom';\nimport { Request, User } from '../types/Common';\n\n/** \n* Displays the user list page\n* @function RequestList\n* */\nconst RequestList = (props: { requests: Request[], updateRequestList: () => void }) => {\n\tconst { requests } = props;\n\treturn (\n\t\t<div className=\"mx-10 border-l-2 border-r-2 border-b-2 border-gray-800 shadow-sm\">\n\t\t\t<div className=\"bg-gray-800 flex flex-row justify-center w-full text-gray-300 p-2\">\n\t\t\t\t<p className=\"font-bold flex-1 text-center\">User</p>\n\t\t\t\t<p className=\"font-bold flex-1 text-center\">Created on</p>\n\t\t\t\t<p className=\"font-bold flex-1 text-center\">Start date</p>\n\t\t\t\t<p className=\"font-bold flex-1 text-center\">End date</p>\n\t\t\t\t<p className=\"font-bold flex-1 text-center\">Status</p>\n\t\t\t\t<p className=\"font-bold flex-1 text-center\">Actions</p>\n\t\t\t</div>\n\t\t\t{requests.map(request => (\n\t\t\t\t<RequestItem request={request} updateRequestList={props.updateRequestList} />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\n/** \n* Displays a request list item\n* @function RequestItem\n* @param {Object} props - The props of the component\n* @param {Request} props.request - The request this item represents\n* @param {()=>void} props.update - Callback for updating the main list\n* @returns A single request item for the request list\n* */\nconst RequestItem = (props: { request: Request, updateRequestList: () => void }) => {\n\tconst authContext = useContext(AuthContext);\n\tconst {request, updateRequestList} = props;\n\n\tlet circleColor = \"bg-gray-400\";\n\tif (request.approved === true) {\n\t\tcircleColor = \"bg-green-700\";\n\t} else if (request.approved === false) {\n\t\tcircleColor = \"bg-red-700\";\n\t}\n\n\tconst deleteRequest = () => {\n\t\tfetch(`${apiLink}/user/${authContext.userId}/requests/${request.id}`, {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {\n\t\t\t\t'Authorization': `Bearer ${authContext.jwtToken}`\n\t\t\t}\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\tif(res.status === \"OK\") {\n\t\t\t\t\talert(res.message);\n\t\t\t\t\tupdateRequestList();\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Sorry something went wrong!\");\n\t\t\t\t}\n\t\t\t}).catch(err => console.log(err));\n\t}\n\treturn (\n\t\t<div className=\"flex flex-row justify-center bg-gray-100 w-full p-5 border-b border-gray-400 text-gray-700\">\n\t\t\t<p className=\"flex-1 text-center\">{`${request.user.firstname} ${request.user.lastname}`}</p>\n\t\t\t<p className=\"flex-1 text-center\">{new Date(request.createdOn).toDateString()}</p>\n\t\t\t<p className=\"flex-1 text-center\">{new Date(request.startDate).toDateString()}</p>\n\t\t\t<p className=\"flex-1 text-center\">{new Date(request.endDate).toDateString()}</p>\n\t\t\t<div className=\"flex-1 flex justify-center items-center\">\n\t\t\t\t<div className={`w-6 h-6 rounded-full ${circleColor} mr-3`}></div>\n\t\t\t</div>\n\t\t\t<div className=\"flex-1 flex justify-center items-center\">\n\t\t\t\t<i onClick={deleteRequest}\n\t\t\t\t\tclassName=\"material-icons hover:bg-gray-200 \n\t\t\t\t\thover:text-red-700 rounded-full p-2 cursor-pointer\">delete</i>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n\n\nexport default RequestList;\n"]},"metadata":{},"sourceType":"module"}